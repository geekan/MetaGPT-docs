# RoleZero 架构设计说明

## **背景：从 SOPs 到通用智能体框架的演进**

在传统的智能体（Agent）框架中，**标准化操作流程（SOPs）**  是解决特定场景问题的核心方案。例如，在软件开发场景中，SOPs 会严格定义代码目录结构、数据交互格式和任务执行顺序。然而，这类 SOPs 存在显著问题：

1.  **场景捆绑性强**：SOPs 与具体业务场景高度耦合，难以迁移到其他领域（如医疗、金融）。
1.  **扩展性差**：新增业务需定制开发，导致开发成本高、迭代效率低。
1.  **容错能力弱**：流程中断后无法从断点恢复，需从头执行。

以软件公司为例，其 SOPs 要求智能体按固定目录交互数据，但第三方项目可能使用不同的结构，导致智能体无法适配。因此，亟需一种**原子化、通用化**的框架，解耦流程与场景，提升智能体的泛化能力。

## **目标：构建通用智能体的核心能力**

RoleZero 的设计目标是 **通过原子化功能要素和动态流程编排**，解决 SOPs 的局限性，实现以下能力：

1.  **灵活流程编排**：通过 `think->action 循环` 或 **串联原子化单元** 动态解决业务问题，无需定制开发。
1.  **断点恢复**：任务异常时，可从最后一次成功节点恢复运行。
1.  **无缝业务对接**：支持跨领域协作（如软件公司 SOP 直接修改第三方代码），无需额外开发。

## **RoleZero 的核心能力**

RoleZero 作为 Agent 的通用模板，覆盖智能体的全生命周期：

1. 数据理解（ENV/IO）：动态解析环境输入（如代码、文档）的结构和语义。

2. 观察（Observe）：从环境（ENV）中筛选、格式化关键数据，作为决策依据。

3. 思考（Think）：动态生成或调整任务计划，支持四类决策逻辑：

   - 任务拆解：将模糊目标分解为原子化子任务（如“开发登录功能” → 设计接口 → 编写代码 → 测试）。

   - 任务重试：根据错误反馈调整任务约束（如增加代码格式检查）。

   - 流程推进：标记当前任务完成，触发下一任务。

   - 人类求助：在无法决策时发起用户澄清（如“如意图澄清让用户补充数据、出错或不确定让用户提供建议”）。

4. 执行（Act）：调用工具执行原子化任务，支持经验复用和上下文注入。

5. 记忆（Memory）：存储任务状态与历史数据

6. 评估（Evaluate）：动态验证任务结果
